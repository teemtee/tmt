{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    "schedule:weekly",
    ":enablePreCommit",
    ":semanticCommitTypeAll(chore)"
  ],
  "packageRules": [
    {
      "description": "Disable updates for main runtime Python dependencies (pyproject.toml [project].dependencies)",
      "matchManagers": ["pep621"],
      "matchDepTypes": ["dependencies"],
      "enabled": false
    },
    {
       "description": "Disable updates for Python interpreter as we use lowest available on supported distros",
       "matchPackageNames": ["python"],
       "enabled": false
    },
    {
        "description": "Allow updates for documentation dependencies",
        "matchManagers": ["pep621"],
        "matchPackagePatterns": ["renku-sphinx-theme", "sphinx", "readthedocs-sphinx-ext", "docutils"],
        "matchDepTypes": ["optionalDependencies"],
        "enabled": true
    },
    {
      "description": "Allow updates for development dependencies (pyproject.toml [tool.hatch.envs.dev].dependencies)",
      "matchManagers": ["pep621"],
      "matchDepTypes": ["devDependencies"],
      "enabled": true
    },
    {
      "description": "Disable ALL updates for CentOS base images, as we are using major version tags",
      "matchDatasources": ["docker"],
      "matchPackageNames": ["quay.io/centos/centos"],
      "enabled": false
    },
    {
      "description": "Disable ALL updates for Fedora base images",
      "matchDatasources": ["docker"],
      "matchPackageNames": ["quay.io/fedora/fedora"],
      "enabled": false
    }
  ]
}
