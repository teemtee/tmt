/test:

    /with_variables:
        summary: This is a test with variables
        tag:
            - "with_variables"
        test: python3 -m pytest -svv -m with_variables environment_file_data.py

    /without_variables:
        summary: This is a test without variables
        tag:
            - "without_variables"
        test: python3 -m pytest -svv -m without_variables environment_file_data.py

/plan:
    discover:
        how: fmf
    provision:
        how: local
    execute:
        how: tmt
    prepare:
      how: shell
      script: pip3 install pytest click


    /with_variables:
        summary: This is a plan with variables
        discover+:
            filter:
                - 'tag: with_variables'
        environment:
            STR: L
            INT: 2
        environment-file:
            - ".env"
            - ".env_in.yaml"
            - ".env_in.yml"

    /without_variables:
        summary: This is a plan without variables
        discover+:
            filter:
                - 'tag: without_variables'
