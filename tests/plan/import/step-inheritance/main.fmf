# Test step inheritance with adjust-* fields

# Test append mode for report step
/test-report-append:
    summary: Test report step inheritance in append mode
    plan:
        import:
            url: https://github.com/teemtee/tests
            name: /plans/remote
            inherit-context: false
            inherit-environment: false
            adjust-plans:
                report+:
                    how: junit
                    file: /tmp/local-results.xml

# Test replace mode for report step
/test-report-replace:
    summary: Test report step inheritance in replace mode
    plan:
        import:
            url: https://github.com/teemtee/tests
            name: /plans/remote
            inherit-context: false
            inherit-environment: false
            adjust-plans:
                report:
                    how: html
                    file: /tmp/replacement.html

# Test no step inheritance (control)
/test-no-inheritance:
    summary: Test plan with no step inheritance
    plan:
        import:
            url: https://github.com/teemtee/tests
            name: /plans/remote
            inherit-context: false
            inherit-environment: false
            # No adjust-plans fields, so only remote plan steps are used

# Test alternative enum values
/test-alternative-enum:
    summary: Test alternative enum values (append/replace)
    plan:
        import:
            url: https://github.com/teemtee/tests
            name: /plans/remote
            inherit-context: false
            inherit-environment: false
            adjust-plans:
                finish+:  # append mode
                    how: shell
                    script: echo "Local finish with append enum"

# Test multiple adjust fields
/test-multiple-adjust:
    summary: Test multiple adjust fields
    plan:
        import:
            url: https://github.com/teemtee/tests
            name: /plans/remote
            inherit-context: false
            inherit-environment: false
            adjust-plans:
                finish+:
                    name: local-additional-finish
                    how: shell
                    script: echo "Local prepare"
                report:
                    how: junit
                    file: /tmp/local-finish.xml
