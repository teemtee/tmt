---

#
# JSON Schema definition for `polarion` report plugin
#
# https://tmt.readthedocs.io/en/stable/spec/plans.html#polarion
#

$id: /schemas/report/polarion
$schema: https://json-schema.org/draft-07/schema

type: object
additionalProperties: false

properties:

  how:
    type: string
    enum:
      - polarion

  name:
    type: string

  file:
    type: string

  project-id:
    type: string

  title:
    type: string

  description:
    type: string

  template:
    type: string

  use-facts:
    type: boolean

  upload:
    type: boolean

  token-upload:
    type: boolean

  auto-create-testcases:
    type: boolean

  schema:
    type: string

  prettify:
    type: boolean

  include-output-log:
    type: boolean

  # Custom fields (configurable via plan only, no CLI options)
  # These are dynamically loaded from the Polarion schema
  planned-in:
    type: string

  assignee:
    type: string

  pool-team:
    type: string

  arch:
    type: string

  platform:
    type: string

  build:
    type: string

  sample-image:
    type: string

  logs:
    type: string

  compose-id:
    type: string

  browser:
    type: string

  component:
    oneOf:
      - type: string
      - type: array
        items:
          type: string

  fips:
    type: boolean

  selinux-state:
    type: string

  selinux-mode:
    type: string

  selinux-policy:
    type: string

  deployment-mode:
    type: string

  deploymentMode:
    type: string

  schedule-task:
    type: string

  scheduleTask:
    type: string

  when:
    $ref: "/schemas/common#/definitions/when"

required:
  - how
  - project-id
